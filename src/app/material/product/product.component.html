
  <!--条件查询-->
  <app-search [seachArray]="searchArray"  (callBack)="refresh($event)"></app-search>
  <!--操作层-->  
  <div nz-row style="margin-top: 16px;">
      <div nz-col [nzSpan]="24" style="text-align: left;">
        <button nz-button [nzType]="'primary'" (click)="add()">新增商品</button>
      </div>
    </div>
  <div class="search-result-list">
      <nz-table #productManageTable 
      [nzData]="dataList?.results"
      [nzScroll]="{x:'1500px'}"
      [nzShowPagination]="false"
      [nzPageSize] = "dataList?.page_size"
      [nzLoading]="listLoading">
          <thead>
            <tr>
              <th nzWidht="100px" nzLeft="0px">商品名称</th>
              <th>商品编码</th>
              <th>商品图片</th>
              <th>商品进价</th>
              <th>商品售价</th>
              <th>库存</th>
              <th>单位</th>
              <th>规格</th>
              <th>描述</th>
              <th>是否预定</th>
              <th nzWidth="100px" nzRight="0px">操作</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of productManageTable.data">
              <td nzWidht="100px" nzLeft="0px">{{data.name}}</td>
              <td>{{data.code}}</td>
              <td>{{data.image}}</td>
              <td>{{data.in_price}}</td>
              <td>{{data.sale_price}}</td>
              <td>{{data.store}}</td>
              <td>{{data.brand}}</td>
              <td>{{data.unit}}</td>
              <td>{{data.desc}}</td>
              <td>{{data.active}}</td>
              <td nzRight="0px">
                <nz-tag [nzColor]="'blue'" (click) ="reviseDetail(data.id)">修改</nz-tag>
                <nz-tag [nzColor]="'blue'" (click) ="deleteProduct(data.id)">删除</nz-tag>
              </td>
            </tr>
          </tbody>
        </nz-table>
        <app-pagination 
        [nzTotal]="dataList?.count" 
        [nzPageSize]="searchObj.page_size"
        (nzPageIndexChange)="changPageIndex($event)" 
        (nzPageSizeChange)="PageSizeChange($event)"></app-pagination>
  </div>
  <!--模态框-->
  <app-drawer [visible]="OpenDraw" (callBack)="dataBack($event)">
      <form nz-form [formGroup]="prodcutForm"> 
          <div nz-row nzGutter="8">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label nzRequired>商品名称</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="name" placeholder="请输入商品名称">
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label nzRequired>搜索关键字</nz-form-label>
                <nz-form-control>
                    <input nz-input formControlName="short_name" placeholder="请输入搜索关键字(小写)">
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div nz-row nzGutter="8">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>商品编码</nz-form-label>
                <nz-form-control>
                  <nz-input-group>
                    <input type="text" formControlName="code" nz-input placeholder="请输入商品编码">
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div nz-row nzGutter="8">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>商品进价</nz-form-label>
                <nz-form-control>
                    <input nz-input formControlName="in_price" placeholder="请输入商品进价">
                  </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>商品售价</nz-form-label>
                <nz-form-control>
                    <input nz-input formControlName="sale_price" placeholder="请输入商品售价">
                  </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <!-- <div nz-row nzGutter="8">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>库存类型</nz-form-label>
                <nz-form-control>
                    <nz-select nzPlaceHolder="请选择仓库类型">
                      <nz-option nzLabel="1级仓库" nzValue="预定"></nz-option>
                      <nz-option nzLabel="2级仓库" nzValue="未预定"></nz-option>
                    </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
                <nz-form-item>
                    <nz-form-label>库存</nz-form-label>
                    <nz-form-control>
                        <input nz-input placeholder="请输入单位">
                    </nz-form-control>
                  </nz-form-item>
            </div>
          </div> -->
          <div nz-row nzGutter="8">
              <div nz-col nzSpan="12">
                <nz-form-item>
                  <nz-form-label>规格</nz-form-label>
                  <nz-form-control>
                      <input nz-input formControlName="unit" placeholder="请输入规格">
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col nzSpan="12">
                <nz-form-item>
                  <nz-form-label>供应商</nz-form-label>
                  <nz-form-control>
                      <nz-select formControlName="brand" nzPlaceHolder="请选择规格">
                        <nz-option nzLabel="预定" nzValue="test1"></nz-option>
                        <nz-option nzLabel="未预定" nzValue="test2"></nz-option>
                      </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div nz-row nzGutter="8">
                <nz-form-item>
                  <nz-form-label>商品图片</nz-form-label>
                  <nz-form-control>
                    <app-img-upload></app-img-upload>
                  </nz-form-control>
                </nz-form-item>
            </div>
          <div nz-row nzGutter="8">
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label>描述</nz-form-label>
                <nz-form-control>
                  <textarea nz-input formControlName="desc" placeholder="请输入描述内容" [nzAutosize]="{ minRows: 4, maxRows: 4 }"></textarea>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </form>
  </app-drawer>

  <!--公用组件-->
  <app-status-alert [type]="alertType"></app-status-alert>