!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/portal"),require("@angular/core"),require("ng-zorro-antd/core/config"),require("rxjs"),require("@angular/cdk/overlay"),require("ng-zorro-antd/core/services"),require("ng-zorro-antd/core/util"),require("rxjs/operators"),require("@angular/cdk/bidi"),require("@angular/common"),require("ng-zorro-antd/core/outlet"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/core/animation")):"function"==typeof define&&define.amd?define("ng-zorro-antd/message",["exports","@angular/cdk/portal","@angular/core","ng-zorro-antd/core/config","rxjs","@angular/cdk/overlay","ng-zorro-antd/core/services","ng-zorro-antd/core/util","rxjs/operators","@angular/cdk/bidi","@angular/common","ng-zorro-antd/core/outlet","ng-zorro-antd/icon","ng-zorro-antd/core/animation"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].message={}),e.ng.cdk.portal,e.ng.core,e["ng-zorro-antd"].core.config,e.rxjs,e.ng.cdk.overlay,e["ng-zorro-antd"].core.services,e["ng-zorro-antd"].core.util,e.rxjs.operators,e.ng.cdk.bidi,e.ng.common,e["ng-zorro-antd"].core.outlet,e["ng-zorro-antd"].icon,e["ng-zorro-antd"].core.animation)}(this,(function(e,t,n,o,r,i,s,a,c,u,p,g,l,h){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function f(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}Object.create;var v=0,z=function(){function e(e,t,n){this.nzSingletonService=e,this.overlay=t,this.injector=n}return e.prototype.remove=function(e){this.container&&(e?this.container.remove(e):this.container.removeAll())},e.prototype.getInstanceId=function(){return this.componentPrefix+"-"+v++},e.prototype.withContainer=function(e){var n=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(n)return n;var o=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),r=new t.ComponentPortal(e,null,this.injector),i=o.attach(r);return o.overlayElement.style.zIndex="1010",n||(this.container=n=i.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,n)),n},e}(),C=function(){function e(e,t){this.cdr=e,this.nzConfigService=t,this.instances=[],this.destroy$=new r.Subject,this.updateConfig()}return e.prototype.ngOnInit=function(){this.subscribeConfigChange()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.create=function(e){var t=this.onCreate(e);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=m(this.instances,[t]),this.readyInstances(),t},e.prototype.remove=function(e,t){var n=this;void 0===t&&(t=!1),this.instances.some((function(o,r){return o.messageId===e&&(n.instances.splice(r,1),n.instances=m(n.instances),n.onRemove(o,t),n.readyInstances(),!0)}))},e.prototype.removeAll=function(){var e=this;this.instances.forEach((function(t){return e.onRemove(t,!1)})),this.instances=[],this.readyInstances()},e.prototype.onCreate=function(e){return e.options=this.mergeOptions(e.options),e.onClose=new r.Subject,e},e.prototype.onRemove=function(e,t){e.onClose.next(t),e.onClose.complete()},e.prototype.readyInstances=function(){this.cdr.detectChanges()},e.prototype.mergeOptions=function(e){var t=this.config,n=t.nzDuration,o=t.nzAnimate,r=t.nzPauseOnHover;return Object.assign({nzDuration:n,nzAnimate:o,nzPauseOnHover:r},e)},e}();C.decorators=[{type:n.Directive}],C.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:o.NzConfigService}]};var S=function(){function e(e){this.cdr=e,this.destroyed=new n.EventEmitter,this.eraseTimer=null}return e.prototype.ngOnInit=function(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter"),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())},e.prototype.ngOnDestroy=function(){this.autoClose&&this.clearEraseTimeout()},e.prototype.onEnter=function(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())},e.prototype.onLeave=function(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()},e.prototype.destroy=function(e){var t=this;void 0===e&&(e=!1),this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),setTimeout((function(){t.destroyed.next({id:t.instance.messageId,userAction:e})}),200)):this.destroyed.next({id:this.instance.messageId,userAction:e})},e.prototype.initErase=function(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()},e.prototype.updateTTL=function(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)},e.prototype.startEraseTimeout=function(){var e=this;this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout((function(){return e.destroy()}),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()},e.prototype.clearEraseTimeout=function(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)},e}();S.decorators=[{type:n.Directive}],S.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]};var T="message",O={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"},b=function(e){function t(t,n){var o=e.call(this,t,n)||this;o.destroy$=new r.Subject,o.dir="ltr",o.instances=[];var i=o.nzConfigService.getConfigForComponent(T);return o.dir=(null==i?void 0:i.nzDirection)||"ltr",o}return f(t,e),t.prototype.subscribeConfigChange=function(){var e=this;this.nzConfigService.getConfigChangeEventForComponent(T).pipe(c.takeUntil(this.destroy$)).subscribe((function(){e.updateConfig();var t=e.nzConfigService.getConfigForComponent(T);if(t){var n=t.nzDirection;e.dir=n||e.dir}}))},t.prototype.updateConfig=function(){this.config=Object.assign(Object.assign(Object.assign({},O),this.config),this.nzConfigService.getConfigForComponent(T)),this.top=a.toCssPixel(this.config.nzTop),this.cdr.markForCheck()},t}(C);b.decorators=[{type:n.Component,args:[{changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,selector:"nz-message-container",exportAs:"nzMessageContainer",preserveWhitespaces:!1,template:'\n    <div class="ant-message" [class.ant-message-rtl]="dir === \'rtl\'" [style.top]="top">\n      <nz-message *ngFor="let instance of instances" [instance]="instance" (destroyed)="remove($event.id, $event.userAction)"></nz-message>\n    </div>\n  '}]}],b.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:o.NzConfigService}]};var j=function(){};j.decorators=[{type:n.NgModule}];var I=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.componentPrefix="message-",r}return f(t,e),t.prototype.success=function(e,t){return this.createInstance({type:"success",content:e},t)},t.prototype.error=function(e,t){return this.createInstance({type:"error",content:e},t)},t.prototype.info=function(e,t){return this.createInstance({type:"info",content:e},t)},t.prototype.warning=function(e,t){return this.createInstance({type:"warning",content:e},t)},t.prototype.loading=function(e,t){return this.createInstance({type:"loading",content:e},t)},t.prototype.create=function(e,t,n){return this.createInstance({type:e,content:t},n)},t.prototype.createInstance=function(e,t){return this.container=this.withContainer(b),this.container.create(Object.assign(Object.assign({},e),{createdAt:new Date,messageId:this.getInstanceId(),options:t}))},t}(z);I.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new I(n.ɵɵinject(s.NzSingletonService),n.ɵɵinject(i.Overlay),n.ɵɵinject(n.INJECTOR))},token:I,providedIn:j}),I.decorators=[{type:n.Injectable,args:[{providedIn:j}]}],I.ctorParameters=function(){return[{type:s.NzSingletonService},{type:i.Overlay},{type:n.Injector}]};var w=function(e){function t(t){var o=e.call(this,t)||this;return o.destroyed=new n.EventEmitter,o}return f(t,e),t}(S);w.decorators=[{type:n.Component,args:[{changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,selector:"nz-message",exportAs:"nzMessage",preserveWhitespaces:!1,animations:[h.moveUpMotion],template:'\n    <div class="ant-message-notice" [@moveUpMotion]="instance.state" (mouseenter)="onEnter()" (mouseleave)="onLeave()">\n      <div class="ant-message-notice-content">\n        <div class="ant-message-custom-content" [ngClass]="\'ant-message-\' + instance.type">\n          <ng-container [ngSwitch]="instance.type">\n            <i *ngSwitchCase="\'success\'" nz-icon nzType="check-circle"></i>\n            <i *ngSwitchCase="\'info\'" nz-icon nzType="info-circle"></i>\n            <i *ngSwitchCase="\'warning\'" nz-icon nzType="exclamation-circle"></i>\n            <i *ngSwitchCase="\'error\'" nz-icon nzType="close-circle"></i>\n            <i *ngSwitchCase="\'loading\'" nz-icon nzType="loading"></i>\n          </ng-container>\n          <ng-container *nzStringTemplateOutlet="instance.content">\n            <span [innerHTML]="instance.content"></span>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  '}]}],w.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},w.propDecorators={instance:[{type:n.Input}],destroyed:[{type:n.Output}]};var x=function(){};x.decorators=[{type:n.NgModule,args:[{imports:[u.BidiModule,p.CommonModule,i.OverlayModule,l.NzIconModule,g.NzOutletModule,j],declarations:[b,w],entryComponents:[b]}]}],e.NzMNComponent=S,e.NzMNContainerComponent=C,e.NzMNService=z,e.NzMessageComponent=w,e.NzMessageContainerComponent=b,e.NzMessageModule=x,e.NzMessageService=I,e.NzMessageServiceModule=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-message.umd.min.js.map