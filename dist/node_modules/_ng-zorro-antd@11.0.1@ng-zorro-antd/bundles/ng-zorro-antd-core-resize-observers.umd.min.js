!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/cdk/coercion"),require("resize-observer-polyfill"),require("rxjs")):"function"==typeof define&&define.amd?define("ng-zorro-antd/core/resize-observers",["exports","@angular/core","@angular/cdk/coercion","resize-observer-polyfill","rxjs"],r):r(((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].core=e["ng-zorro-antd"].core||{},e["ng-zorro-antd"].core["resize-observers"]={}),e.ng.core,e.ng.cdk.coercion,e.ResizeObserver,e.rxjs)}(this,(function(e,r,t,o,n){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=s(o),c=function(){function e(){}return e.prototype.create=function(e){return void 0===i.default?null:new i.default(e)},e}();c.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new c},token:c,providedIn:"root"}),c.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}];var u=function(){function e(e){this.nzResizeObserverFactory=e,this.observedElements=new Map}return e.prototype.ngOnDestroy=function(){var e=this;this.observedElements.forEach((function(r,t){return e.cleanupObserver(t)}))},e.prototype.observe=function(e){var r=this,o=t.coerceElement(e);return new n.Observable((function(e){var t=r.observeElement(o).subscribe(e);return function(){t.unsubscribe(),r.unobserveElement(o)}}))},e.prototype.observeElement=function(e){if(this.observedElements.has(e))this.observedElements.get(e).count++;else{var r=new n.Subject,t=this.nzResizeObserverFactory.create((function(e){return r.next(e)}));t&&t.observe(e),this.observedElements.set(e,{observer:t,stream:r,count:1})}return this.observedElements.get(e).stream},e.prototype.unobserveElement=function(e){this.observedElements.has(e)&&(this.observedElements.get(e).count--,this.observedElements.get(e).count||this.cleanupObserver(e))},e.prototype.cleanupObserver=function(e){if(this.observedElements.has(e)){var r=this.observedElements.get(e),t=r.observer,o=r.stream;t&&t.disconnect(),o.complete(),this.observedElements.delete(e)}},e}();u.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new u(r.ɵɵinject(c))},token:u,providedIn:"root"}),u.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],u.ctorParameters=function(){return[{type:c}]};var a=function(){};a.decorators=[{type:r.NgModule,args:[{providers:[c]}]}],e.NzResizeObserver=u,e.NzResizeObserversModule=a,e.ɵNzResizeObserverFactory=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-core-resize-observers.umd.min.js.map