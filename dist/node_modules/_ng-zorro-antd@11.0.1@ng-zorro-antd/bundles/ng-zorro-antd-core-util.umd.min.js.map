{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../components/core/util/convert.ts","../../components/core/util/dom.ts","../../components/core/util/getMentions.ts","../../components/core/util/string.ts","../../components/core/util/is-promise.ts","../../components/core/util/textarea-caret-position.ts","../../components/core/util/text-measure.ts","../../components/core/util/measure-scrollbar.ts","../../components/core/util/array.ts","../../components/core/util/ensure-in-bounds.ts","../../components/core/util/number.ts","../../components/core/util/style.ts","../../components/core/util/tick.ts","../../components/core/util/check.ts","../../components/core/util/scroll-into-view-if-needed.ts","../../components/core/util/observable.ts"],"names":["Object","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","toBoolean","coerceBooleanProperty","toNumber","fallbackValue","_isNumberValue","Number","toCssPixel","coerceCssPixelValue","propDecoratorFactory","name","fallback","target","propName","originalDescriptor","privatePropName","prototype","hasOwnProperty","warn","defineProperty","configurable","writable","get","bind","this","set","isTouchEvent","event","type","startsWith","getRegExp","prefix","prefixArray","Array","isArray","prefixToken","join","replace","RegExp","getRepeatedElement","element","fill","isPromise","obj","then","catch","properties","isBrowser","window","isFirefox","mozInnerScreenX","_parseInt","str","parseInt","createDebugEle","coordinates","fontSize","getComputedStyle","getPropertyValue","rect","document","querySelector","createElement","body","appendChild","id","style","position","backgroundColor","height","width","top","getBoundingClientRect","scrollTop","pageYOffset","left","scrollLeft","pageXOffset","ellipsisContainer","scrollbarVerticalSize","scrollbarHorizontalSize","wrapperStyle","padding","margin","display","lineHeight","pxToNumber","match","scrollbarMeasure","array1","array2","len","boundValue","num","min","max","isNaN","options","Error","debug","el","parentNode","removeChild","div","computed","currentStyle","isInput","nodeName","whiteSpace","wordWrap","visibility","forEach","prop","scrollHeight","overflowY","overflow","textContent","substring","span","offsetTop","borderTopWidth","offsetLeft","borderLeftWidth","elem","getClientRects","win","ownerDocument","defaultView","touches","changedTouches","regex","mentions","map","trim","numStr","toString","dotIndex","indexOf","styles","keys","key","val","timer","Subject","Promise","resolve","pipe","take","isFinite","styleName","documentElement","styleNameList","documentElement_1","some","TemplateRef","originEle","rows","contentNodes","fixedContent","ellipsisStr","suffixStr","setAttribute","originStyle","originCSS","slice","apply","maxHeight","Math","round","paddingTop","paddingBottom","minHeight","zIndex","textOverflow","webkitLineClamp","childList","contentList","child","prevChild","nodeType","data","container","contentContainer","suffixContainer","createTextNode","fixedContainer","inRange","offsetHeight","assign","node","cloneNode","text","innerHTML","ellipsis","childNodes","filter","_a","fixedNodes","ellipsisContentHolder","ellipsisTextNode","measureText","textNode","fullText","startLoc","endLoc","lastSuccessLoc","midLoc","floor","step","currentStepText","finished","measureNode","childNode","index","insertBefore","ellipsisNodes","result","firstChild","direction","isVertical","scrollDiv","scrollProp","className","overflowX","size","offsetWidth","clientWidth","clientHeight","toPad","joined","nodeAsAny","scrollIntoViewIfNeeded","scrollIntoView","source","objA","objB","keysA","keysB","bHasOwnProperty","idx","stopPropagation","preventDefault","input","initial","reduce","previous","current","decimal","pow","args","_i","isObservable","from","of"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { coerceBooleanProperty, coerceCssPixelValue, _isNumberValue } from '@angular/cdk/coercion';\n\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { FunctionProp, NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function toBoolean(value: boolean | string): boolean {\n  return coerceBooleanProperty(value);\n}\n\nexport function toNumber(value: number | string): number;\nexport function toNumber<D>(value: number | string, fallback: D): number | D;\nexport function toNumber(value: number | string, fallbackValue: number = 0): number {\n  return _isNumberValue(value) ? Number(value) : fallbackValue;\n}\n\nexport function toCssPixel(value: number | string): string {\n  return coerceCssPixelValue(value);\n}\n\n// tslint:disable no-invalid-this\n\n/**\n * Get the function-property type's value\n */\nexport function valueFunctionProp<T>(prop: FunctionProp<T> | T, ...args: NzSafeAny[]): T {\n  return typeof prop === 'function' ? (prop as FunctionProp<T>)(...args) : prop;\n}\n\nfunction propDecoratorFactory<T, D>(name: string, fallback: (v: T) => D): (target: NzSafeAny, propName: string) => void {\n  function propDecorator(target: NzSafeAny, propName: string, originalDescriptor?: TypedPropertyDescriptor<NzSafeAny>): NzSafeAny {\n    const privatePropName = `$$__${propName}`;\n\n    if (Object.prototype.hasOwnProperty.call(target, privatePropName)) {\n      warn(`The prop \"${privatePropName}\" is already exist, it will be overrided by ${name} decorator.`);\n    }\n\n    Object.defineProperty(target, privatePropName, {\n      configurable: true,\n      writable: true\n    });\n\n    return {\n      get(): string {\n        return originalDescriptor && originalDescriptor.get ? originalDescriptor.get.bind(this)() : this[privatePropName];\n      },\n      set(value: T): void {\n        if (originalDescriptor && originalDescriptor.set) {\n          originalDescriptor.set.bind(this)(fallback(value));\n        }\n        this[privatePropName] = fallback(value);\n      }\n    };\n  }\n\n  return propDecorator;\n}\n\n/**\n * Input decorator that handle a prop to do get/set automatically with toBoolean\n *\n * Why not using @InputBoolean alone without @Input? AOT needs @Input to be visible\n *\n * @howToUse\n * ```\n * @Input() @InputBoolean() visible: boolean = false;\n *\n * // Act as below:\n * // @Input()\n * // get visible() { return this.__visible; }\n * // set visible(value) { this.__visible = value; }\n * // __visible = false;\n * ```\n */\nexport function InputBoolean(): NzSafeAny {\n  return propDecoratorFactory('InputBoolean', toBoolean);\n}\n\nexport function InputCssPixel(): NzSafeAny {\n  return propDecoratorFactory('InputCssPixel', toCssPixel);\n}\n\nexport function InputNumber(fallbackValue?: NzSafeAny): NzSafeAny {\n  return propDecoratorFactory('InputNumber', (value: string | number) => toNumber(value, fallbackValue));\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * This module provides utility functions to query DOM information or\n * set properties.\n */\n\nimport { Observable } from 'rxjs';\n\n/**\n * Silent an event by stopping and preventing it.\n */\nexport function silentEvent(e: Event): void {\n  e.stopPropagation();\n  e.preventDefault();\n}\n\nexport function getElementOffset(elem: HTMLElement): { top: number; left: number } {\n  if (!elem.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n\n  const rect = elem.getBoundingClientRect();\n  const win = elem.ownerDocument!.defaultView;\n  return {\n    top: rect.top + win!.pageYOffset,\n    left: rect.left + win!.pageXOffset\n  };\n}\n\n/**\n * Investigate if an event is a `TouchEvent`.\n */\nexport function isTouchEvent(event: MouseEvent | TouchEvent): event is TouchEvent {\n  return event.type.startsWith('touch');\n}\n\nexport function getEventPosition(event: MouseEvent | TouchEvent): MouseEvent | Touch {\n  return isTouchEvent(event) ? event.touches[0] || event.changedTouches[0] : event;\n}\n\nexport interface MouseTouchObserverConfig {\n  end: string;\n  move: string;\n  pluckKey: string[];\n  start: string;\n\n  end$?: Observable<Event>;\n  moveResolved$?: Observable<number>;\n  startPlucked$?: Observable<number>;\n\n  filter?(e: Event): boolean;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport function getRegExp(prefix: string | string[]): RegExp {\n  const prefixArray = Array.isArray(prefix) ? prefix : [prefix];\n  let prefixToken = prefixArray.join('').replace(/(\\$|\\^)/g, '\\\\$1');\n\n  if (prefixArray.length > 1) {\n    prefixToken = `[${prefixToken}]`;\n  }\n\n  return new RegExp(`(\\\\s|^)(${prefixToken})[^\\\\s]*`, 'g');\n}\n\nexport function getMentions(value: string, prefix: string | string[] = '@'): string[] {\n  if (typeof value !== 'string') {\n    return [];\n  }\n  const regex = getRegExp(prefix);\n  const mentions = value.match(regex);\n  return mentions !== null ? mentions.map(e => e.trim()) : [];\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Much like lodash.\n */\nexport function padStart(toPad: string, length: number, element: string): string {\n  if (toPad.length > length) {\n    return toPad;\n  }\n\n  const joined = `${getRepeatedElement(length, element)}${toPad}`;\n  return joined.slice(joined.length - length, joined.length);\n}\n\nexport function padEnd(toPad: string, length: number, element: string): string {\n  const joined = `${toPad}${getRepeatedElement(length, element)}`;\n  return joined.slice(0, length);\n}\n\nexport function getRepeatedElement(length: number, element: string): string {\n  return Array(length).fill(element).join('');\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function isPromise<T>(obj: NzSafeAny): obj is Promise<T> {\n  return !!obj && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\n// from https://github.com/component/textarea-caret-position\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nexport const properties = [\n  'direction', // RTL support\n  'boxSizing',\n  'width', // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY', // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration', // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n];\n\nconst isBrowser = typeof window !== 'undefined';\n\nconst isFirefox = isBrowser && (window as NzSafeAny).mozInnerScreenX != null;\n\nconst _parseInt = (str: string) => parseInt(str, 10);\n\nexport interface Coordinates {\n  top: number;\n  left: number;\n  height: number;\n}\n\nexport function getCaretCoordinates(\n  element: HTMLInputElement | HTMLTextAreaElement,\n  position: number,\n  options?: { debug?: boolean }\n): Coordinates {\n  if (!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  const debug = (options && options.debug) || false;\n  if (debug) {\n    const el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if (el) {\n      el.parentNode!.removeChild(el);\n    }\n  }\n\n  // The mirror div will replicate the textarea's style\n  const div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  const style = div.style;\n\n  const computed = window.getComputedStyle ? window.getComputedStyle(element) : (element as NzSafeAny).currentStyle; // currentStyle for IE < 9\n  const isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput) {\n    style.wordWrap = 'break-word'; // only for textarea-s\n  }\n\n  // Position off-screen\n  style.position = 'absolute'; // required to return coordinates properly\n  if (!debug) {\n    style.visibility = 'hidden';\n  } // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach((prop: string) => {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      style.lineHeight = computed.height;\n    } else {\n      // @ts-ignore\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > _parseInt(computed.height)) {\n      style.overflowY = 'scroll';\n    }\n  } else {\n    style.overflow = 'hidden'; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput) {\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n  }\n\n  const span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.'; // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  const coordinates = {\n    top: span.offsetTop + _parseInt(computed.borderTopWidth),\n    left: span.offsetLeft + _parseInt(computed.borderLeftWidth),\n    height: _parseInt(computed.lineHeight)\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#eee';\n    createDebugEle(element, coordinates);\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\nexport function createDebugEle(element: HTMLInputElement | HTMLTextAreaElement, coordinates: Coordinates): void {\n  const fontSize = getComputedStyle(element).getPropertyValue('font-size');\n  const rect: HTMLSpanElement = (document.querySelector('#DEBUG') as HTMLSpanElement) || document.createElement('div');\n  document.body.appendChild(rect);\n  rect.id = 'DEBUG';\n  rect.style.position = 'absolute';\n  rect.style.backgroundColor = 'red';\n  rect.style.height = fontSize;\n  rect.style.width = '1px';\n  rect.style.top = `${element.getBoundingClientRect().top - element.scrollTop + window.pageYOffset + coordinates.top}px`;\n  rect.style.left = `${element.getBoundingClientRect().left - element.scrollLeft + window.pageXOffset + coordinates.left}px`;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport interface MeasureResult {\n  finished: boolean;\n  node: Node | null;\n}\n\n// We only handle element & text node.\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\n\nlet ellipsisContainer: HTMLParagraphElement;\n\nconst wrapperStyle = {\n  padding: '0',\n  margin: '0',\n  display: 'inline',\n  lineHeight: 'inherit'\n};\n\nexport function pxToNumber(value: string | null): number {\n  if (!value) {\n    return 0;\n  }\n\n  const match = value.match(/^\\d*(\\.\\d*)?/);\n\n  return match ? Number(match[0]) : 0;\n}\n\nfunction styleToString(style: CSSStyleDeclaration): string {\n  // There are some different behavior between Firefox & Chrome.\n  // We have to handle this ourself.\n  const styleNames: string[] = Array.prototype.slice.apply(style);\n  return styleNames.map(name => `${name}: ${style.getPropertyValue(name)};`).join('');\n}\n\nfunction mergeChildren(children: Node[]): Node[] {\n  const childList: Node[] = [];\n\n  children.forEach((child: Node) => {\n    const prevChild = childList[childList.length - 1];\n    if (prevChild && child.nodeType === TEXT_NODE && prevChild.nodeType === TEXT_NODE) {\n      (prevChild as Text).data += (child as Text).data;\n    } else {\n      childList.push(child);\n    }\n  });\n\n  return childList;\n}\n\nexport function measure(\n  originEle: HTMLElement,\n  rows: number,\n  contentNodes: Node[],\n  fixedContent: HTMLElement[],\n  ellipsisStr: string,\n  suffixStr: string = ''\n): { contentNodes: Node[]; text: string; ellipsis: boolean } {\n  if (!ellipsisContainer) {\n    ellipsisContainer = document.createElement('div');\n    ellipsisContainer.setAttribute('aria-hidden', 'true');\n    document.body.appendChild(ellipsisContainer);\n  }\n\n  // Get origin style\n  const originStyle = window.getComputedStyle(originEle);\n  const originCSS = styleToString(originStyle);\n  const lineHeight = pxToNumber(originStyle.lineHeight);\n  const maxHeight = Math.round(lineHeight * (rows + 1) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n  // Set shadow\n  ellipsisContainer.setAttribute('style', originCSS);\n  ellipsisContainer.style.position = 'fixed';\n  ellipsisContainer.style.left = '0';\n  ellipsisContainer.style.height = 'auto';\n  ellipsisContainer.style.minHeight = 'auto';\n  ellipsisContainer.style.maxHeight = 'auto';\n  ellipsisContainer.style.top = '-999999px';\n  ellipsisContainer.style.zIndex = '-1000';\n\n  // clean up css overflow\n  ellipsisContainer.style.textOverflow = 'clip';\n  ellipsisContainer.style.whiteSpace = 'normal';\n  (ellipsisContainer.style as NzSafeAny).webkitLineClamp = 'none';\n\n  const contentList = mergeChildren(contentNodes);\n  const container = document.createElement('div');\n  const contentContainer = document.createElement('span');\n  const suffixContainer = document.createTextNode(suffixStr);\n  const fixedContainer = document.createElement('span');\n\n  // Add styles in container\n  Object.assign(container.style, wrapperStyle);\n  Object.assign(contentContainer.style, wrapperStyle);\n  Object.assign(fixedContainer.style, wrapperStyle);\n\n  contentList.forEach(n => {\n    contentContainer.appendChild(n);\n  });\n\n  contentContainer.appendChild(suffixContainer);\n\n  fixedContent.forEach(node => {\n    fixedContainer.appendChild(node.cloneNode(true));\n  });\n  container.appendChild(contentContainer);\n  container.appendChild(fixedContainer);\n\n  // Render in the fake container\n  ellipsisContainer.appendChild(container);\n\n  // Check if ellipsis in measure div is height enough for content\n  function inRange(): boolean {\n    return ellipsisContainer.offsetHeight < maxHeight;\n  }\n\n  if (inRange()) {\n    const text = ellipsisContainer.innerHTML;\n    ellipsisContainer.removeChild(container);\n    return { contentNodes, text, ellipsis: false };\n  }\n\n  // We should clone the childNode since they're controlled by React and we can't reuse it without warning\n  const childNodes: ChildNode[] = Array.prototype.slice\n    .apply(ellipsisContainer.childNodes[0].childNodes[0].cloneNode(true).childNodes)\n    .filter(({ nodeType }: ChildNode) => nodeType !== COMMENT_NODE);\n  const fixedNodes: ChildNode[] = Array.prototype.slice.apply(ellipsisContainer.childNodes[0].childNodes[1].cloneNode(true).childNodes);\n  ellipsisContainer.removeChild(container);\n\n  // ========================= Find match ellipsis content =========================\n  ellipsisContainer.innerHTML = '';\n\n  // Create origin content holder\n  const ellipsisContentHolder = document.createElement('span');\n  ellipsisContainer.appendChild(ellipsisContentHolder);\n  const ellipsisTextNode = document.createTextNode(ellipsisStr + suffixStr);\n  ellipsisContentHolder.appendChild(ellipsisTextNode);\n\n  fixedNodes.forEach(childNode => {\n    ellipsisContainer.appendChild(childNode);\n  });\n\n  // Append before fixed nodes\n  function appendChildNode(node: ChildNode): void {\n    ellipsisContentHolder.insertBefore(node, ellipsisTextNode);\n  }\n\n  // Get maximum text\n  function measureText(\n    textNode: Text,\n    fullText: string,\n    startLoc: number = 0,\n    endLoc: number = fullText.length,\n    lastSuccessLoc: number = 0\n  ): MeasureResult {\n    const midLoc = Math.floor((startLoc + endLoc) / 2);\n    textNode.textContent = fullText.slice(0, midLoc);\n\n    if (startLoc >= endLoc - 1) {\n      // Loop when step is small\n      for (let step = endLoc; step >= startLoc; step -= 1) {\n        const currentStepText = fullText.slice(0, step);\n        textNode.textContent = currentStepText;\n\n        if (inRange() || !currentStepText) {\n          return step === fullText.length\n            ? {\n                finished: false,\n                node: document.createTextNode(fullText)\n              }\n            : {\n                finished: true,\n                node: document.createTextNode(currentStepText)\n              };\n        }\n      }\n    }\n    if (inRange()) {\n      return measureText(textNode, fullText, midLoc, endLoc, midLoc);\n    } else {\n      return measureText(textNode, fullText, startLoc, midLoc, lastSuccessLoc);\n    }\n  }\n\n  function measureNode(childNode: ChildNode, index: number): MeasureResult {\n    const type = childNode.nodeType;\n\n    if (type === ELEMENT_NODE) {\n      // We don't split element, it will keep if whole element can be displayed.\n      // appendChildNode(childNode);\n      if (inRange()) {\n        return {\n          finished: false,\n          node: contentList[index]\n        };\n      }\n\n      // Clean up if can not pull in\n      ellipsisContentHolder.removeChild(childNode);\n      return {\n        finished: true,\n        node: null\n      };\n    } else if (type === TEXT_NODE) {\n      const fullText = childNode.textContent || '';\n      const textNode = document.createTextNode(fullText);\n      appendChildNode(textNode);\n      return measureText(textNode, fullText);\n    }\n\n    // Not handle other type of content\n    // PS: This code should not be attached after react 16\n    return {\n      finished: false,\n      node: null\n    };\n  }\n\n  const ellipsisNodes: Node[] = [];\n  childNodes.some((childNode, index) => {\n    const { finished, node } = measureNode(childNode, index);\n    if (node) {\n      ellipsisNodes.push(node);\n    }\n    return finished;\n  });\n  const result = {\n    contentNodes: ellipsisNodes,\n    text: ellipsisContainer.innerHTML,\n    ellipsis: true\n  };\n  while (ellipsisContainer.firstChild) {\n    ellipsisContainer.removeChild(ellipsisContainer.firstChild);\n  }\n  return result;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nlet scrollbarVerticalSize: number;\nlet scrollbarHorizontalSize: number;\n\n// Measure scrollbar width for padding body during modal show/hide\nconst scrollbarMeasure = {\n  position: 'absolute',\n  top: '-9999px',\n  width: '50px',\n  height: '50px'\n};\n\nexport function measureScrollbar(direction: 'vertical' | 'horizontal' = 'vertical', prefix: string = 'ant'): number {\n  if (typeof document === 'undefined' || typeof window === 'undefined') {\n    return 0;\n  }\n  const isVertical = direction === 'vertical';\n  if (isVertical && scrollbarVerticalSize) {\n    return scrollbarVerticalSize;\n  } else if (!isVertical && scrollbarHorizontalSize) {\n    return scrollbarHorizontalSize;\n  }\n  const scrollDiv = document.createElement('div');\n  Object.keys(scrollbarMeasure).forEach(scrollProp => {\n    // @ts-ignore\n    scrollDiv.style[scrollProp] = scrollbarMeasure[scrollProp];\n  });\n  // apply hide scrollbar className ahead\n  scrollDiv.className = `${prefix}-hide-scrollbar scroll-div-append-to-body`;\n  // Append related overflow style\n  if (isVertical) {\n    scrollDiv.style.overflowY = 'scroll';\n  } else {\n    scrollDiv.style.overflowX = 'scroll';\n  }\n  document.body.appendChild(scrollDiv);\n  let size = 0;\n  if (isVertical) {\n    size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    scrollbarVerticalSize = size;\n  } else {\n    size = scrollDiv.offsetHeight - scrollDiv.clientHeight;\n    scrollbarHorizontalSize = size;\n  }\n\n  document.body.removeChild(scrollDiv);\n  return size;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport function toArray<T>(value: T | T[]): T[] {\n  let ret: T[];\n  if (value == null) {\n    ret = [];\n  } else if (!Array.isArray(value)) {\n    ret = [value];\n  } else {\n    ret = value;\n  }\n  return ret;\n}\n\nexport function arraysEqual<T>(array1: T[], array2: T[]): boolean {\n  if (!array1 || !array2 || array1.length !== array2.length) {\n    return false;\n  }\n\n  const len = array1.length;\n  for (let i = 0; i < len; i++) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function shallowCopyArray<T>(source: T[]): T[] {\n  return source.slice();\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport function ensureInBounds(value: number, boundValue: number): number {\n  return value ? (value < boundValue ? value : boundValue) : boundValue;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function getPercent(min: number, max: number, value: number): number {\n  return ((value - min) / (max - min)) * 100;\n}\n\nexport function getPrecision(num: number): number {\n  const numStr = num.toString();\n  const dotIndex = numStr.indexOf('.');\n  return dotIndex >= 0 ? numStr.length - dotIndex - 1 : 0;\n}\n\nexport function ensureNumberInRange(num: number, min: number, max: number): number {\n  if (isNaN(num) || num < min) {\n    return min;\n  } else if (num > max) {\n    return max;\n  } else {\n    return num;\n  }\n}\n\nexport function isNumberFinite(value: NzSafeAny): boolean {\n  return typeof value === 'number' && isFinite(value);\n}\n\nexport function toDecimal(value: number, decimal: number): number {\n  return Math.round(value * Math.pow(10, decimal)) / Math.pow(10, decimal);\n}\n\nexport function sum(input: number[], initial: number = 0): number {\n  return input.reduce((previous: number, current: number) => previous + current, initial);\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NgStyleInterface } from 'ng-zorro-antd/core/types';\n\nexport function isStyleSupport(styleName: string | string[]): boolean {\n  if (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n    const styleNameList = Array.isArray(styleName) ? styleName : [styleName];\n    const { documentElement } = window.document;\n\n    return styleNameList.some(name => name in documentElement.style);\n  }\n  return false;\n}\n\nexport function getStyleAsText(styles?: NgStyleInterface): string {\n  if (!styles) {\n    return '';\n  }\n\n  return Object.keys(styles)\n    .map(key => {\n      const val = styles[key];\n      return `${key}:${typeof val === 'string' ? val : val + 'px'}`;\n    })\n    .join(';');\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Observable, Subject } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nexport function inNextTick(): Observable<void> {\n  const timer = new Subject<void>();\n  Promise.resolve().then(() => timer.next());\n  return timer.pipe(take(1));\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { TemplateRef } from '@angular/core';\n\nimport { IndexableObject, NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function isNotNil<T>(value: T): value is NonNullable<T> {\n  return typeof value !== 'undefined' && value !== null;\n}\n\nexport function isNil(value: unknown): value is null | undefined {\n  return typeof value === 'undefined' || value === null;\n}\n\n/**\n * Examine if two objects are shallowly equaled.\n */\nexport function shallowEqual(objA?: IndexableObject, objB?: IndexableObject): boolean {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  const bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // tslint:disable-next-line:prefer-for-of\n  for (let idx = 0; idx < keysA.length; idx++) {\n    const key = keysA[idx];\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n    if (objA[key] !== objB[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function isNonEmptyString(value: NzSafeAny): boolean {\n  return typeof value === 'string' && value !== '';\n}\n\nexport function isTemplateRef(value: NzSafeAny): boolean {\n  return value instanceof TemplateRef;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function scrollIntoView(node: HTMLElement): void {\n  const nodeAsAny = node as NzSafeAny;\n  if (nodeAsAny.scrollIntoViewIfNeeded) {\n    /* tslint:disable-next-line:no-string-literal */\n    nodeAsAny.scrollIntoViewIfNeeded(false);\n    return;\n  }\n  if (node.scrollIntoView) {\n    node.scrollIntoView(false);\n    return;\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { from, isObservable, Observable, of } from 'rxjs';\nimport { isPromise } from './is-promise';\n\nexport function wrapIntoObservable<T>(value: T | Promise<T> | Observable<T>): Observable<T> {\n  if (isObservable(value)) {\n    return value;\n  }\n\n  if (isPromise(value)) {\n    // Use `Promise.resolve()` to wrap promise-like instances.\n    return from(Promise.resolve(value));\n  }\n\n  return of(value);\n}\n"]}